<script>
let player = document.getElementById("player");
let obstacle = document.getElementById("obstacle");

let obstaclePosition = 0;
let isJumping = false;

// Obstacle movement (slow chesam)
setInterval(function(){
  obstaclePosition += 3;   // speed taggincham
  obstacle.style.top = obstaclePosition + "px";

  if(obstaclePosition > 400){
    obstaclePosition = 0;
  }

  let playerBottom = parseInt(window.getComputedStyle(player).getPropertyValue("bottom"));

  if(obstaclePosition > 350 && obstaclePosition < 390 && playerBottom < 60){
    alert("Game Over ðŸ˜­");
    obstaclePosition = 0;
  }

}, 40);


// Smooth Jump
function jump(){
  if(isJumping) return;

  isJumping = true;
  let position = 10;

  let up = setInterval(function(){
    if(position >= 120){
      clearInterval(up);

      let down = setInterval(function(){
        if(position <= 10){
          clearInterval(down);
          isJumping = false;
        }
        position -= 5;
        player.style.bottom = position + "px";
      },20);

    }
    position += 5;
    player.style.bottom = position + "px";
  },20);
}

document.addEventListener("click", jump);
</script>
